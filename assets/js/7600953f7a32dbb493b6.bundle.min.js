/*! pro-elements - v3.8.0 - 30-10-2022 */
(self.webpackChunkelementor_pro=self.webpackChunkelementor_pro||[]).push([[315],{26315:(e,t,n)=>{"use strict";var r=n(38003).__;n(63238),n(61544),n(3214),n(92571),n(25901),n(98010),n(20252),n(95374),n(55849),n(14009),n(12699),n(99785);var o=n(73203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(50824));n(23938),n(32081);var l=o(n(10029)),u=o(n(93231)),i=o(n(78983)),c=o(n(42081)),s=o(n(51121)),p=o(n(58724)),f=o(n(71173)),d=o(n(74910));function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var h=function(e){(0,p.default)(TemplateQueryControl,e);var t,n,o,u,f=_createSuper(TemplateQueryControl);function TemplateQueryControl(){return(0,i.default)(this,TemplateQueryControl),f.apply(this,arguments)}return(0,c.default)(TemplateQueryControl,[{key:"ui",value:function ui(){return _objectSpread(_objectSpread({},(0,s.default)((0,d.default)(TemplateQueryControl.prototype),"ui",this).call(this)),{},{newButton:'button[data-action="new"]',editButton:'button[data-action="edit"]'})}},{key:"events",value:function events(){return _objectSpread(_objectSpread({},(0,s.default)((0,d.default)(TemplateQueryControl.prototype),"events",this).call(this)),{},{"click @ui.newButton":"onNewButtonClicked","click @ui.editButton":"onEditButtonClicked"})}},{key:"onRender",value:function onRender(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=(0,s.default)((0,d.default)(TemplateQueryControl.prototype),"onRender",this)).call.apply(e,[this].concat(n)),this.toggleButtons(this.getControlValue())}},{key:"onBaseInputChange",value:function onBaseInputChange(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=(0,s.default)((0,d.default)(TemplateQueryControl.prototype),"onBaseInputChange",this)).call.apply(e,[this].concat(n)),this.toggleButtons(this.getInputValue(n[0].currentTarget))}},{key:"toggleButtons",value:function toggleButtons(e){e?this.showEditTemplateButton():this.showNewTemplateButton()}},{key:"showNewTemplateButton",value:function showNewTemplateButton(){this.ui.newButton.get(0).style.display="block",this.ui.editButton.get(0).style.display="none"}},{key:"showEditTemplateButton",value:function showEditTemplateButton(){this.ui.newButton.get(0).style.display="none",this.ui.editButton.get(0).style.display="block"}},{key:"onNewButtonClicked",value:(u=(0,l.default)(a.default.mark((function _callee(){return a.default.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:this.createTemplate();case 1:case"end":return e.stop()}}),_callee,this)}))),function onNewButtonClicked(){return u.apply(this,arguments)})},{key:"createTemplate",value:function createTemplate(){var e=this;this.confirmSaveBeforeTemplateCreateDialog||(this.confirmSaveBeforeTemplateCreateDialog=elementorCommon.dialogsManager.createWidget("confirm",{id:"e-confirm-save-before-template-create",headerMessage:r("Save Changes","elementor-pro"),message:r("Would you like to save the changes you've made?","elementor-pro"),position:{my:"center center",at:"center center"},strings:{confirm:r("Save","elementor-pro"),cancel:r("Discard","elementor-pro")},onConfirm:function onConfirm(){e.onConfirmCreateTemplate()},onCancel:function onCancel(){}})),this.confirmSaveBeforeTemplateCreateDialog.show()}},{key:"onConfirmCreateTemplate",value:(o=(0,l.default)(a.default.mark((function _callee2(){var e,t,n,r,o;return a.default.wrap((function _callee2$(a){for(;;)switch(a.prev=a.next){case 0:return e=this.model.get("name"),t=this.options.container.controls[e].actions.new.document_config.type,n=this.options.container.controls._skin?this.options.container.panel.getControlView("_skin").getControlValue():void 0,a.next=5,$e.data.create("library/templates",{type:t,page_settings:{source:n}});case 5:return r=a.sent,o=parseInt(r.data.template_id),a.next=9,this.setValue(o);case 9:this.switchDocument(o);case 10:case"end":return a.stop()}}),_callee2,this)}))),function onConfirmCreateTemplate(){return o.apply(this,arguments)})},{key:"switchDocument",value:(n=(0,l.default)(a.default.mark((function _callee3(e){return a.default.wrap((function _callee3$(t){for(;;)switch(t.prev=t.next){case 0:return $e.internal("panel/state-loading"),t.next=3,$e.run("editor/documents/switch",{id:parseInt(e),mode:"autosave"});case 3:$e.internal("panel/state-ready");case 4:case"end":return t.stop()}}),_callee3)}))),function switchDocument(e){return n.apply(this,arguments)})},{key:"onEditButtonClicked",value:(t=(0,l.default)(a.default.mark((function _callee4(){return a.default.wrap((function _callee4$(e){for(;;)switch(e.prev=e.next){case 0:this.switchDocument(this.getControlValue());case 1:case"end":return e.stop()}}),_callee4,this)}))),function onEditButtonClicked(){return t.apply(this,arguments)})},{key:"getSelect2Placeholder",value:function getSelect2Placeholder(){return{id:"",text:r("Start typing its name","elementor-pro")}}}]),TemplateQueryControl}(o(n(54124)).default);t.default=h},12699:(e,t,n)=>{var r=n(51695),o=n(25283),a=n(77711).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!o},{defineProperties:a})},14009:(e,t,n)=>{var r=n(51695),o=n(25283),a=n(46095),l=n(64088),u=n(94399),i=n(89720);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(e){for(var t,n,r=l(e),o=u.f,c=a(r),s={},p=0;c.length>p;)void 0!==(n=o(r,t=c[p++]))&&i(s,t,n);return s}})}}]);