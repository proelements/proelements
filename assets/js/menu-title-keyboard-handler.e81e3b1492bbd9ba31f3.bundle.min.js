/*! pro-elements - v3.18.0 - 06-12-2023 */
"use strict";(self.webpackChunkelementor_pro=self.webpackChunkelementor_pro||[]).push([[244],{6921:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class MenuTitleKeyboardHandler extends elementorModules.frontend.handlers.NestedTitleKeyboardHandler{__construct(){super.__construct(...arguments),this.handleMenuToggleKeydown=this.handleMenuToggleKeydown.bind(this)}getDefaultSettings(){const e=super.getDefaultSettings();return e.selectors.widgetInnerWrapper=".e-n-menu",e.selectors.menuToggle=".e-n-menu-toggle",e.selectors.itemTitle=".e-focus",e.selectors.itemContainer=".e-n-menu-content > .e-con",e.ariaAttributes.titleStateAttribute="aria-expanded",e.ariaAttributes.activeTitleSelector='[aria-expanded="true"]',e.datasets.titleIndex="data-focus-index",e}getDefaultElements(){const e=super.getDefaultElements(),t=this.getSettings("selectors");return e.$menuToggle=this.findElement(t.menuToggle),e}bindEvents(){super.bindEvents(),this.elements.$menuToggle.on("keydown",this.handleMenuToggleKeydown)}unbindEvents(){super.unbindEvents(),this.elements.$menuToggle.off("keydown",this.handleMenuToggleKeydown)}onInit(){super.onInit(...arguments);let e=1;this.elements.$itemTitles.each(((t,n)=>{n.setAttribute(this.getSettings("datasets").titleIndex,e++)}))}setTitleTabindex(e){this.elements.$itemTitles.attr("tabindex","-1");const t=this.elements.$itemTitles.filter(this.getTitleFilterSelector(e));t.attr("tabindex","0"),t.closest(".e-n-menu-title-container").next(".e-n-menu-dropdown-icon").attr("tabindex","0"),t.prev(".e-n-menu-title-container").find("a").attr("tabindex","0")}handleMenuToggleKeydown(e){"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),elementorFrontend.elements.$window.trigger("elementor/mega-menu/dropdown-toggle-by-keyboard",{widgetId:this.getID(),show:!1}))}handleTitleEscapeKeyEvents(e){e.preventDefault(),e.stopPropagation();const t=this.getSettings("selectors");"dropdown"===this.$element.find(t.widgetInnerWrapper).data("layout")&&(elementorFrontend.elements.$window.trigger("elementor/mega-menu/dropdown-toggle-by-keyboard",{widgetId:this.getID()}),this.$element.find(t.menuToggle).trigger("focus")),elementorFrontend.elements.$window.trigger("elementor/nested-elements/activate-by-keyboard",{widgetId:this.getID()})}handleContentElementEscapeEvents(){this.getActiveTitleElement().trigger("focus"),elementorFrontend.elements.$window.trigger("elementor/nested-elements/activate-by-keyboard",{widgetId:this.getID()})}handleContentElementTabEvents(e){const t=jQuery(e.currentTarget),n=this.getSettings("selectors").itemContainer,s=this.getFocusableElements(t.closest(n)).last();if(!t.is(s))return;e.preventDefault();const i=this.getActiveTitleElement(),l=parseInt(this.getTitleIndex(i[0]));elementorFrontend.elements.$window.trigger("elementor/nested-elements/activate-by-keyboard",{widgetId:this.getID()}),this.changeTitleFocus(l)}}t.default=MenuTitleKeyboardHandler}}]);