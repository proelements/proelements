/*! pro-elements - v3.17.0 - 01-11-2023 */
"use strict";(self.webpackChunkelementor_pro=self.webpackChunkelementor_pro||[]).push([[188],{6008:(e,t)=>{function getChildrenWidth(e){let t=0;const n=e[0].parentNode,l=getComputedStyle(n),i=parseFloat(l.gap)||0;for(let n=0;n<e.length;n++)t+=e[n].offsetWidth+i;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.changeScrollStatus=function changeScrollStatus(e,t){"mousedown"===t.type?(e.classList.add("e-scroll"),e.dataset.pageX=t.pageX):(e.classList.remove("e-scroll","e-scroll-active"),e.dataset.pageX="")},t.setHorizontalScrollAlignment=function setHorizontalScrollAlignment(e){let{element:t,direction:n,justifyCSSVariable:l,horizontalScrollStatus:i}=e;if(!t)return;!function isHorizontalScroll(e,t){return e.clientWidth<getChildrenWidth(e.children)&&"enable"===t}(t,i)?t.style.setProperty(l,""):function initialScrollPosition(e,t,n){const l=elementorFrontend.config.is_rtl;if("end"===t)e.style.setProperty(n,"start"),e.scrollLeft=l?-1*getChildrenWidth(e.children):getChildrenWidth(e.children);else e.style.setProperty(n,"start"),e.scrollLeft=0}(t,n,l)},t.setHorizontalTitleScrollValues=function setHorizontalTitleScrollValues(e,t,n){const l=e.classList.contains("e-scroll"),i="enable"===t,o=e.scrollWidth>e.clientWidth;if(!l||!i||!o)return;n.preventDefault();const r=parseFloat(e.dataset.pageX),s=n.pageX-r;let a=0;a=20<s?5:-20>s?-5:s;e.scrollLeft=e.scrollLeft-a,e.classList.add("e-scroll-active")}},6961:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(6008);class TaxonomyFilter extends elementorModules.frontend.handlers.Base{constructor(){super(...arguments),this.resizeListenerNestedTabs=null}getDefaultSettings(){return{selectors:{item:".e-filter-item",container:".e-filter"},filterValues:{default:"__all"}}}getDefaultElements(){return{$filterButtons:this.$element.find(this.getSettings("selectors.item")),$container:this.$element.find(this.getSettings("selectors.container"))}}getHeadingEvents(e){const t=this.elements.$container[0];return{mousedown:l.changeScrollStatus.bind(this,t),mouseup:l.changeScrollStatus.bind(this,t),mouseleave:l.changeScrollStatus.bind(this,t),mousemove:l.setHorizontalTitleScrollValues.bind(this,t,this.getHorizontalScrollSetting())}}bindEvents(){this.elements.$filterButtons.on("click",this.onFilterButtonClick.bind(this)),this.elements.$container.on(this.getHeadingEvents());const e={element:this.elements.$container[0],direction:this.getItemsAlignment(),justifyCSSVariable:"--e-filter-justify-content",horizontalScrollStatus:this.getHorizontalScrollSetting()};this.resizeListenerNestedTabs=l.setHorizontalScrollAlignment.bind(this,e),elementorFrontend.elements.$window.on("resize",this.resizeListenerNestedTabs)}onElementChange(e){if(this.checkSliderPropsToWatch(e)){const e={element:this.elements.$container[0],direction:this.getItemsAlignment(),justifyCSSVariable:"--e-filter-justify-content",horizontalScrollStatus:this.getHorizontalScrollSetting()};(0,l.setHorizontalScrollAlignment)(e)}}checkSliderPropsToWatch(e){return 0===e.indexOf("horizontal_scroll")||0===e.indexOf("item_alignment_horizontal")}getFilterButtonElements(){return this.elements?.$filterButtons.length||(this.elements=this.getDefaultElements(),this.bindEvents()),this.elements.$filterButtons}activateFilterButton(e){const t=this.getFilterButtonElements();if(!t.length)return;const n=t.filter('[data-filter="'+e+'"]');t.attr("aria-pressed",!1),n.attr("aria-pressed",!0)}deactivateFilterButton(e){const t=this.getFilterButtonElements();if(!t.length)return;const n=t.filter('[data-filter="'+e+'"]'),l=t.filter('[data-filter="'+this.getSettings("filterValues.default")+'"]');n.attr("aria-pressed",!1),l.attr("aria-pressed",!0),elementorProFrontend.modules.taxonomyFilter.removeFilterFromLoopWidget(this.getElementSettings("selected_element"),this.getID())}getCurrentlyActiveFilter(){const e=this.getFilterButtonElements().filter("[aria-pressed=true]");return e.length?e.data("filter"):this.getSettings("filterValues.default")}filterItems(e){const t=this.getElementSettings();this.getSettings("filterValues.default")!==e?elementorProFrontend.modules.taxonomyFilter.setFilterDataForLoopWidget(t.selected_element,this.getID(),{filterType:"taxonomy",filterData:{selectedTaxonomy:t.taxonomy,term:e}}):elementorProFrontend.modules.taxonomyFilter.removeFilterFromLoopWidget(t.selected_element,this.getID())}setFilter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSettings("filterValues.default");this.filterItems(e),this.activateFilterButton(e)}onFilterButtonClick(e){this.removePaginationHiddenClassOnLoopWidgetContainer();const t=this.getCurrentlyActiveFilter(),n=e.currentTarget.dataset.filter;this.userClickedOnAllWhileItWasActive(n,t)||(n!==t?this.setFilter(n):this.deactivateFilterButton(n))}removePaginationHiddenClassOnLoopWidgetContainer(){const e=this.getElementSettings(),t=document.querySelector(".elementor-element-"+e.selected_element);t&&t.classList.remove("e-load-more-pagination-end")}userClickedOnAllWhileItWasActive(e,t){return e===t&&e===this.getSettings("filterValues.default")}onDestroy(){const e=this.getElementSettings("selected_element"),t=this.getElementSettings("taxonomy"),n=this.getID();e&&t&&elementorProFrontend.modules.taxonomyFilter.removeFilterFromLoopWidget(e,n),super.onDestroy()}populateLoopWidgetStoreOnInitialPageLoad(){const e=this.getElementSettings(),t=new URLSearchParams(window.location.search).get("e-filter-"+e.selected_element+"-"+e.taxonomy);t&&elementorProFrontend.modules.taxonomyFilter.setFilterDataForLoopWidget(e.selected_element,this.getID(),{filterType:"taxonomy",filterData:{selectedTaxonomy:e.taxonomy,term:t}},!1)}onInit(){super.onInit(),this.populateLoopWidgetStoreOnInitialPageLoad();const e={element:this.elements.$container[0],direction:this.getItemsAlignment(),justifyCSSVariable:"--e-filter-justify-content",horizontalScrollStatus:this.getHorizontalScrollSetting()};(0,l.setHorizontalScrollAlignment)(e)}getHorizontalScrollSetting(){const e=elementorFrontend.getCurrentDeviceMode();return elementorFrontend.utils.controls.getResponsiveControlValue(this.getElementSettings(),"horizontal_scroll","",e)}getItemsAlignment(){const e=elementorFrontend.getCurrentDeviceMode();return elementorFrontend.utils.controls.getResponsiveControlValue(this.getElementSettings(),"item_alignment_horizontal","",e)}}t.default=TaxonomyFilter}}]);